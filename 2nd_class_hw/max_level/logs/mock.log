@zemiel1980 ➜ /workspaces/kubernetes (main) $ sudo kubectl apply -f manifests/ec2-metadata-mock.yaml
serviceaccount/amazon-ec2-metadata-mock-sa unchanged
clusterrole.rbac.authorization.k8s.io/amazon-ec2-metadata-mock unchanged
clusterrolebinding.rbac.authorization.k8s.io/amazon-ec2-metadata-mock unchanged
deployment.apps/amazon-ec2-metadata-mock created
@zemiel1980 ➜ /workspaces/kubernetes (main) $ sudo kubebuilder/bin/kubectl get all -A
NAMESPACE     NAME                                            READY   STATUS    RESTARTS   AGE
default       pod/nginx-deployment-5d868f699d-2s2nl           1/1     Running   0          3h42m
default       pod/nginx-deployment-5d868f699d-r5mgl           1/1     Running   0          3h42m
default       pod/nginx-deployment-5d868f699d-vv4bz           1/1     Running   0          3h42m
kube-system   pod/amazon-ec2-metadata-mock-7f87464746-85nlb   2/2     Running   0          18s
kube-system   pod/debug-flame                                 1/1     Running   0          135m
kube-system   pod/etcd-codespaces-1f25ba                      1/1     Running   0          4h10m
kube-system   pod/kube-apiserver-codespaces-1f25ba            1/1     Running   0          4h4m
kube-system   pod/kube-controller-manager-codespaces-1f25ba   1/1     Running   0          3h58m
kube-system   pod/kube-proxy-wzkcc                            1/1     Running   0          3h12m
kube-system   pod/kube-scheduler-codespaces-1f25ba            1/1     Running   0          4h

NAMESPACE   NAME                    TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)        AGE
default     service/kubernetes      ClusterIP   10.0.0.1     <none>        443/TCP        4h32m
default     service/nginx-service   NodePort    10.0.0.244   <none>        80:30080/TCP   3h42m

NAMESPACE     NAME                        DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR   AGE
kube-system   daemonset.apps/kube-proxy   1         1         1       1            1           <none>          3h19m

NAMESPACE     NAME                                       READY   UP-TO-DATE   AVAILABLE   AGE
default       deployment.apps/nginx-deployment           3/3     3            3           3h42m
kube-system   deployment.apps/amazon-ec2-metadata-mock   1/1     1            1           18s

NAMESPACE     NAME                                                  DESIRED   CURRENT   READY   AGE
default       replicaset.apps/nginx-deployment-5d868f699d           3         3         3       3h42m
kube-system   replicaset.apps/amazon-ec2-metadata-mock-7f87464746   1         1         1       18s
@zemiel1980 ➜ /workspaces/kubernetes (main) $ curl -s http://169.254.169.254/latest/meta-data/instance-id
i-1234567890abcdef0@zemiel1980 ➜ /workspaces/kubernetes (main) $ 